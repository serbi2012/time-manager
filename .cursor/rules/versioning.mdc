---
description: 업무 시간 관리 프로젝트의 버저닝 전략 및 릴리즈 가이드라인
globs:
alwaysApply: false
---

# 버저닝 전략 (Versioning Strategy)

## 버전 형식

**Semantic Versioning (SemVer)** 을 따릅니다.

```
MAJOR.MINOR.PATCH
예: 1.2.3
```

### 버전 번호 규칙

| 구분    | 설명                                                                 | 예시                                     |
| ------- | -------------------------------------------------------------------- | ---------------------------------------- |
| MAJOR   | 호환성이 깨지는 큰 변경, API 변경, 데이터 구조 변경                  | 1.0.0 → 2.0.0                            |
| MINOR   | 새로운 기능 추가 (하위 호환 유지)                                    | 1.0.0 → 1.1.0                            |
| PATCH   | 버그 수정, 성능 개선, 사소한 UI 수정 (하위 호환 유지)                | 1.0.0 → 1.0.1                            |

---

## 버전 변경 기준

### MAJOR 버전 (X.0.0)

다음 경우에 MAJOR 버전을 올립니다:

- LocalStorage 데이터 구조 변경 (마이그레이션 필요)
- Firebase 데이터 스키마 변경
- 핵심 기능의 동작 방식 변경
- API 호환성이 깨지는 변경
- 주요 UI/UX 패러다임 변경

### MINOR 버전 (x.Y.0)

다음 경우에 MINOR 버전을 올립니다:

- 새로운 기능 추가
- 새로운 컴포넌트 추가
- 새로운 페이지/라우트 추가
- 기존 기능의 확장 (하위 호환)
- 새로운 설정 옵션 추가

### PATCH 버전 (x.y.Z)

다음 경우에 PATCH 버전을 올립니다:

- 버그 수정
- 타이포 수정
- 성능 최적화
- 의존성 업데이트 (breaking change 없음)
- 스타일/UI 미세 조정
- 문서 수정

---

## 릴리즈 프로세스

### 1. 버전 업데이트 위치

버전은 다음 파일들에서 관리됩니다:

```
package.json          → version 필드
src/constants/changelog.ts → CURRENT_VERSION 상수
```

### 2. CHANGELOG 업데이트

`src/constants/changelog.ts` 파일에 변경 내역을 기록합니다:

```typescript
export const CHANGELOG: ChangelogEntry[] = [
    {
        version: "1.1.0",
        date: "2026-01-20",
        title: "새로운 기능 제목",
        changes: [
            { type: "feature", description: "새로운 기능 설명" },
            { type: "fix", description: "버그 수정 설명" },
            { type: "improvement", description: "개선 사항 설명" },
        ],
    },
    // ... 이전 버전들
];
```

### 3. 변경 타입 (Change Type)

| 타입          | 설명                     | 이모지 |
| ------------- | ------------------------ | ------ |
| feature       | 새로운 기능              | ✨     |
| fix           | 버그 수정                | 🐛     |
| improvement   | 기존 기능 개선           | 💪     |
| breaking      | 호환성이 깨지는 변경     | ⚠️     |
| deprecation   | 기능 지원 중단 예고      | 📢     |
| security      | 보안 관련 수정           | 🔒     |
| performance   | 성능 개선                | ⚡     |
| style         | UI/스타일 변경           | 🎨     |
| docs          | 문서 변경                | 📝     |

---

## 릴리즈 체크리스트

### 릴리즈 전

- [ ] 모든 테스트 통과 (`npm run test`)
- [ ] 린트 에러 없음 (`npm run lint`)
- [ ] 빌드 성공 (`npm run build`)
- [ ] CHANGELOG 업데이트 완료
- [ ] package.json 버전 업데이트

### 릴리즈 후

- [ ] Git 태그 생성 (`git tag v1.0.0`)
- [ ] GitHub 릴리즈 노트 작성 (선택)
- [ ] Vercel 배포 확인

---

## Git 태그 규칙

```bash
# 태그 형식
v{MAJOR}.{MINOR}.{PATCH}

# 예시
git tag v1.0.0
git tag v1.1.0
git tag v1.1.1

# 태그 푸시
git push origin v1.0.0
```

---

## 버전 히스토리 관리

### CHANGELOG 파일 위치

```
src/constants/changelog.ts
```

### CHANGELOG 표시 위치

- 상단 헤더의 버전 버튼 클릭 시 모달로 표시
- 최신 버전이 상단에 위치

---

## 첫 번째 안정 버전

### v1.0.0 (2026-01-19)

초기 안정 버전으로, 다음 기능들이 포함됩니다:

**핵심 기능:**
- 실시간 타이머 기반 작업 시간 측정
- 작업 기록 관리 (추가/수정/삭제/완료)
- 작업 프리셋 (템플릿) 관리
- 일간 간트차트 시각화
- 주간 일정 조회 및 복사
- Firebase 클라우드 동기화
- 다중 탭 타이머 동기화
- 단축키 지원

---

## 예시: 버전 업데이트 시나리오

### 시나리오 1: 버그 수정

```
현재 버전: 1.0.0
수정 내용: 타이머가 간헐적으로 멈추는 버그 수정
새 버전: 1.0.1
```

### 시나리오 2: 새 기능 추가

```
현재 버전: 1.0.1
수정 내용: 월간 리포트 기능 추가
새 버전: 1.1.0
```

### 시나리오 3: 데이터 구조 변경

```
현재 버전: 1.1.0
수정 내용: WorkRecord에 새 필수 필드 추가 (마이그레이션 필요)
새 버전: 2.0.0
```
