<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>프리셋 카드 — 작업명 + 컬러 태그</title>

        <script src="https://cdn.tailwindcss.com"></script>
        <script>
            tailwind.config = {
                theme: {
                    extend: {
                        spacing: {
                            xs: "4px",
                            sm: "8px",
                            md: "12px",
                            lg: "16px",
                            xl: "24px",
                            "2xl": "32px",
                        },
                        colors: {
                            primary: {
                                DEFAULT: "#3182F6",
                                dark: "#1B64DA",
                                light: "#ECF2FE",
                            },
                            success: "#34C759",
                            error: "#F04452",
                            text: {
                                primary: "#191F28",
                                secondary: "#6B7684",
                                disabled: "#B0B8C1",
                                hint: "#D1D6DB",
                            },
                            bg: {
                                default: "#FFFFFF",
                                light: "#F9FAFB",
                                grey: "#F2F4F6",
                            },
                            border: {
                                default: "#E5E8EB",
                                light: "#F2F4F6",
                                dark: "#D1D6DB",
                            },
                            gray: {
                                50: "#F9FAFB",
                                100: "#F2F4F6",
                                200: "#E5E8EB",
                                300: "#D1D6DB",
                                400: "#B0B8C1",
                                500: "#8B95A1",
                                600: "#6B7684",
                                700: "#4E5968",
                                800: "#333D4B",
                                900: "#191F28",
                            },
                        },
                        fontSize: {
                            xs: "11px",
                            sm: "13px",
                            md: "15px",
                            lg: "17px",
                            xl: "19px",
                            "2xl": "22px",
                        },
                        borderRadius: {
                            xs: "4px",
                            sm: "6px",
                            md: "8px",
                            lg: "12px",
                            xl: "16px",
                            "2xl": "20px",
                            full: "9999px",
                        },
                        boxShadow: {
                            xs: "0 1px 2px rgba(0,0,0,0.04)",
                            sm: "0 2px 8px rgba(0,0,0,0.06)",
                            md: "0 4px 16px rgba(0,0,0,0.08)",
                        },
                    },
                },
            };
        </script>

        <script
            crossorigin
            src="https://unpkg.com/react@18/umd/react.development.js"
        ></script>
        <script
            crossorigin
            src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
        ></script>
        <script src="https://unpkg.com/dayjs@1/dayjs.min.js"></script>
        <script src="https://unpkg.com/antd@5/dist/antd.min.js"></script>
        <script src="https://unpkg.com/@ant-design/icons@5/dist/index.umd.min.js"></script>
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

        <style>
            @import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css");
            body {
                margin: 0;
                padding: 24px;
                background: #f2f4f6;
                font-family: "Pretendard Variable", Pretendard, -apple-system,
                    BlinkMacSystemFont, system-ui, Roboto, sans-serif;
            }
            #root {
                max-width: 1100px;
                margin: 0 auto;
            }
            .mockup-header {
                text-align: center;
                margin-bottom: 40px;
                padding-bottom: 20px;
                border-bottom: 1px solid #e5e8eb;
            }
            .mockup-header h1 {
                font-size: 22px;
                font-weight: 700;
                color: #191f28;
                margin: 0 0 6px;
            }
            .mockup-header p {
                font-size: 13px;
                color: #8b95a1;
                margin: 0;
                line-height: 1.6;
            }
            .mockup-section {
                margin-bottom: 56px;
            }
            .mockup-section-label {
                font-size: 11px;
                font-weight: 700;
                text-transform: uppercase;
                letter-spacing: 1.5px;
                color: #3182f6;
                margin-bottom: 6px;
            }
            .mockup-section-desc {
                font-size: 13px;
                color: #6b7684;
                margin-bottom: 16px;
                line-height: 1.6;
            }
            .mockup-frame {
                background: white;
                border-radius: 16px;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
                overflow: hidden;
            }
            .mockup-comparison {
                display: grid;
                grid-template-columns: 380px 1fr;
                gap: 24px;
                align-items: start;
            }
            @media (max-width: 768px) {
                .mockup-comparison {
                    grid-template-columns: 1fr;
                }
            }
        </style>
    </head>
    <body>
        <div id="root"></div>

        <script type="text/babel">
            const { PlusOutlined, MoreOutlined, CheckOutlined } = icons;

            const MOCK_TEMPLATES = [
                {
                    id: "1",
                    work_name: "문서작업",
                    deal_name: "",
                    task_name: "작업",
                    category_name: "문서작업",
                    color: "#3182F6",
                },
                {
                    id: "2",
                    work_name: "환경세팅",
                    deal_name: "",
                    task_name: "작업",
                    category_name: "환경세팅",
                    color: "#34C759",
                },
                {
                    id: "3",
                    work_name: "회의",
                    deal_name: "",
                    task_name: "작업",
                    category_name: "회의",
                    color: "#FF9500",
                },
                {
                    id: "4",
                    work_name: "질의응답",
                    deal_name: "",
                    task_name: "작업",
                    category_name: "질의응답",
                    color: "#AF52DE",
                },
                {
                    id: "5",
                    work_name: "세트메뉴설정",
                    deal_name: "POS 단말기 메뉴 구성",
                    task_name: "개발",
                    category_name: "개발",
                    color: "#FF2D55",
                },
                {
                    id: "6",
                    work_name: "시간관리 및 주간일정작성",
                    deal_name: "",
                    task_name: "작업",
                    category_name: "문서작업",
                    color: "#5856D6",
                },
                {
                    id: "7",
                    work_name: "5.6 견적서 입력 테스트 케이스",
                    deal_name: "삼성전자 ERP 고도화 프로젝트",
                    task_name: "개발",
                    category_name: "테스트 오류 수정",
                    color: "#007AFF",
                },
                {
                    id: "8",
                    work_name: "5.6 렌더링 성능 개선",
                    deal_name: "LG CNS 포탈 리뉴얼",
                    task_name: "개발",
                    category_name: "개발",
                    color: "#FF9500",
                },
            ];

            // ========== CURRENT ==========
            function CurrentCard({ template }) {
                const title = template.deal_name || template.work_name;
                const subtitle = [template.task_name, template.category_name]
                    .filter(Boolean)
                    .join(" · ");
                return (
                    <div
                        className="group relative flex items-center bg-white rounded-xl overflow-hidden border border-gray-100"
                        style={{ boxShadow: "0 1px 2px rgba(0,0,0,0.04)" }}
                    >
                        <div className="flex items-center pl-[6px] self-stretch flex-shrink-0">
                            <div
                                className="w-[3px] h-[60%] rounded-full"
                                style={{ background: template.color }}
                            />
                        </div>
                        <div className="flex-1 py-lg pl-sm pr-0 min-w-0">
                            <span className="text-sm font-semibold text-gray-900 line-clamp-2 break-words leading-snug">
                                {title}
                            </span>
                            {subtitle && (
                                <span className="text-xs text-gray-500 block truncate mt-[3px]">
                                    {subtitle}
                                </span>
                            )}
                        </div>
                        <div className="flex items-center gap-xs pr-md flex-shrink-0">
                            <button
                                className="flex items-center justify-center w-[34px] h-[34px] rounded-full border-none cursor-pointer"
                                style={{
                                    background: "rgba(49,130,246,0.06)",
                                    color: "#3182F6",
                                    fontSize: 13,
                                }}
                            >
                                <PlusOutlined />
                            </button>
                        </div>
                    </div>
                );
            }

            function CurrentDesign() {
                return (
                    <div className="p-lg">
                        <div className="flex items-center justify-between px-0 py-md">
                            <h3 className="text-md font-semibold text-gray-900 m-0">
                                작업 프리셋
                            </h3>
                        </div>
                        <div className="flex flex-col gap-sm">
                            {MOCK_TEMPLATES.map((t) => (
                                <CurrentCard key={t.id} template={t} />
                            ))}
                        </div>
                    </div>
                );
            }

            // ========== FINAL: C + Color Tag ==========
            function FinalCard({ template }) {
                const [hovered, setHovered] = React.useState(false);
                const [added, setAdded] = React.useState(false);
                const has_deal = !!template.deal_name;

                return (
                    <div
                        className="group relative flex items-center bg-white rounded-xl overflow-hidden border border-gray-100 transition-all duration-200"
                        style={{
                            boxShadow: hovered
                                ? "0 4px 16px rgba(0,0,0,0.07)"
                                : "0 1px 2px rgba(0,0,0,0.04)",
                            transform: hovered ? "translateY(-1px)" : "none",
                        }}
                        onMouseEnter={() => setHovered(true)}
                        onMouseLeave={() => setHovered(false)}
                    >
                        <div className="flex items-center pl-[6px] self-stretch flex-shrink-0">
                            <div
                                className="w-[3px] h-[60%] rounded-full"
                                style={{ background: template.color }}
                            />
                        </div>

                        <div className="flex-1 py-[14px] pl-md pr-0 min-w-0">
                            {/* Line 1: work_name — bold, 1-line truncate */}
                            <span className="text-sm font-semibold text-gray-900 block truncate leading-snug">
                                {template.work_name}
                            </span>

                            {/* Line 2: deal_name as color tag (only if exists) */}
                            {has_deal && (
                                <div className="flex items-center mt-[3px] min-w-0">
                                    <span
                                        className="text-[10px] font-medium rounded-[4px] px-[5px] py-[1px] truncate max-w-full leading-[16px]"
                                        style={{
                                            background: `${template.color}14`,
                                            color: template.color,
                                        }}
                                    >
                                        {template.deal_name}
                                    </span>
                                </div>
                            )}

                            {/* Line 3: task_name · category_name (plain text) */}
                            {(template.task_name || template.category_name) && (
                                <span className="text-xs text-gray-400 block truncate mt-[3px]">
                                    {[
                                        template.task_name,
                                        template.category_name,
                                    ]
                                        .filter(Boolean)
                                        .join(" · ")}
                                </span>
                            )}
                        </div>

                        <div className="flex items-center gap-xs pr-md flex-shrink-0">
                            <button
                                className="flex items-center justify-center w-7 h-7 rounded-md border-none cursor-pointer"
                                style={{
                                    background: "transparent",
                                    color: "#B0B8C1",
                                    fontSize: 14,
                                    opacity: hovered ? 1 : 0,
                                    transition: "all 150ms",
                                }}
                            >
                                <MoreOutlined />
                            </button>
                            <button
                                onClick={() => {
                                    setAdded(true);
                                    setTimeout(() => setAdded(false), 800);
                                }}
                                className="flex items-center justify-center w-[34px] h-[34px] rounded-full border-none cursor-pointer transition-all duration-200"
                                style={{
                                    background: added
                                        ? "rgba(52,199,89,0.12)"
                                        : "rgba(49,130,246,0.06)",
                                    color: added ? "#34C759" : "#3182F6",
                                    fontSize: 13,
                                }}
                            >
                                {added ? <CheckOutlined /> : <PlusOutlined />}
                            </button>
                        </div>
                    </div>
                );
            }

            function FinalDesign() {
                return (
                    <div className="p-lg">
                        <div className="flex items-center justify-between px-0 py-md">
                            <h3 className="text-md font-semibold text-gray-900 m-0">
                                작업 프리셋
                            </h3>
                        </div>
                        <div className="flex flex-col gap-sm">
                            {MOCK_TEMPLATES.map((t) => (
                                <FinalCard key={t.id} template={t} />
                            ))}
                        </div>
                    </div>
                );
            }

            // ========== MOCKUP APP ==========
            function MockupApp() {
                return (
                    <div>
                        <div className="mockup-header">
                            <h1>프리셋 카드 — 작업명 + 컬러 태그</h1>
                            <p>
                                Option C(3줄 구조) + 카테고리 컬러 태그 결합
                                <br />
                                작업명(work_name)을 항상 1줄 표시 + 카테고리
                                뱃지로 정보 구분
                            </p>
                        </div>

                        {/* BEFORE */}
                        <div className="mockup-section">
                            <div className="mockup-section-label">
                                BEFORE — 현재 디자인
                            </div>
                            <div className="mockup-section-desc">
                                <strong>문제:</strong> deal_name이 있으면
                                work_name이 숨겨짐. 카테고리/업무명이 plain
                                text라 구분 어려움.
                            </div>
                            <div className="mockup-comparison">
                                <div>
                                    <div
                                        className="mockup-frame"
                                        style={{ maxWidth: 380 }}
                                    >
                                        <CurrentDesign />
                                    </div>
                                </div>
                                <div className="flex flex-col gap-md pt-sm">
                                    <div className="p-lg rounded-lg border border-red-200 bg-red-50">
                                        <div className="text-sm font-semibold text-red-600 mb-sm">
                                            현재 구조의 문제
                                        </div>
                                        <div className="text-xs text-gray-700 leading-relaxed">
                                            <div className="font-semibold mb-xs">
                                                타이틀: deal_name || work_name
                                            </div>
                                            <div className="text-red-500 mb-sm">
                                                → deal_name 있으면 work_name
                                                사라짐
                                            </div>
                                            <div className="font-semibold mb-xs">
                                                서브타이틀: task_name ·
                                                category_name
                                            </div>
                                            <div className="text-gray-500">
                                                → plain text, 시각적 구분 없음
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* AFTER */}
                        <div className="mockup-section">
                            <div className="mockup-section-label">
                                AFTER — 작업명 3줄 + 컬러 태그
                            </div>
                            <div className="mockup-section-desc">
                                <strong>Line 1</strong> — work_name (볼드, 1줄
                                ellipsis, 항상 표시) /<strong> Line 2</strong> —{" "}
                                <span
                                    style={{
                                        background: "#FF2D5514",
                                        color: "#FF2D55",
                                        padding: "1px 5px",
                                        borderRadius: 4,
                                        fontSize: 11,
                                        fontWeight: 500,
                                    }}
                                >
                                    deal_name 컬러 태그
                                </span>{" "}
                                (있을 때만) /<strong> Line 3</strong> — 업무 ·
                                카테고리 (plain text)
                            </div>
                            <div className="mockup-comparison">
                                <div>
                                    <div
                                        className="mockup-frame"
                                        style={{ maxWidth: 380 }}
                                    >
                                        <FinalDesign />
                                    </div>
                                </div>
                                <div className="flex flex-col gap-md pt-sm">
                                    <div className="flex items-start gap-sm">
                                        <span className="text-xs font-bold text-blue-500 bg-blue-50 rounded px-[6px] py-[2px] flex-shrink-0">
                                            1
                                        </span>
                                        <span className="text-sm text-gray-700">
                                            <strong>
                                                work_name이 항상 타이틀
                                            </strong>{" "}
                                            — deal_name 유무 무관, 1줄 bold +
                                            ellipsis
                                        </span>
                                    </div>
                                    <div className="flex items-start gap-sm">
                                        <span className="text-xs font-bold text-blue-500 bg-blue-50 rounded px-[6px] py-[2px] flex-shrink-0">
                                            2
                                        </span>
                                        <span className="text-sm text-gray-700">
                                            deal_name →{" "}
                                            <strong>컬러 태그</strong>로 표시 —
                                            카드 color에 맞춘 배경 + 텍스트
                                        </span>
                                    </div>
                                    <div className="flex items-start gap-sm">
                                        <span className="text-xs font-bold text-blue-500 bg-blue-50 rounded px-[6px] py-[2px] flex-shrink-0">
                                            3
                                        </span>
                                        <span className="text-sm text-gray-700">
                                            <strong>업무 · 카테고리</strong> —
                                            연한톤(#B0B8C1) plain text로 보조
                                            정보
                                        </span>
                                    </div>
                                    <div className="flex items-start gap-sm">
                                        <span className="text-xs font-bold text-blue-500 bg-blue-50 rounded px-[6px] py-[2px] flex-shrink-0">
                                            4
                                        </span>
                                        <span className="text-sm text-gray-700">
                                            deal_name 태그는{" "}
                                            <strong>
                                                긴 텍스트도 truncate
                                            </strong>
                                            — 카드 영역을 넘지 않음
                                        </span>
                                    </div>
                                    <div className="flex items-start gap-sm">
                                        <span className="text-xs font-bold text-blue-500 bg-blue-50 rounded px-[6px] py-[2px] flex-shrink-0">
                                            5
                                        </span>
                                        <span className="text-sm text-gray-700">
                                            deal_name 없으면{" "}
                                            <strong>2줄</strong>로 자연스럽게
                                            축소
                                        </span>
                                    </div>

                                    <div className="p-md rounded-lg bg-blue-50 border border-blue-200 mt-sm">
                                        <div className="text-xs font-semibold text-blue-600 mb-xs">
                                            텍스트 위계 (3단계)
                                        </div>
                                        <div className="flex flex-col gap-[6px] text-xs">
                                            <div className="flex items-center gap-sm">
                                                <span className="w-[60px] text-gray-400">
                                                    Line 1
                                                </span>
                                                <span className="font-semibold text-gray-900">
                                                    세트메뉴설정
                                                </span>
                                                <span className="text-gray-400">
                                                    — 13px, semibold, #191F28
                                                </span>
                                            </div>
                                            <div className="flex items-center gap-sm">
                                                <span className="w-[60px] text-gray-400">
                                                    Line 2
                                                </span>
                                                <span
                                                    className="text-[10px] font-medium rounded-[4px] px-[5px] py-[1px]"
                                                    style={{
                                                        background: "#FF2D5514",
                                                        color: "#FF2D55",
                                                    }}
                                                >
                                                    POS 단말기 메뉴 구성
                                                </span>
                                                <span className="text-gray-400">
                                                    — 10px, color tag
                                                </span>
                                            </div>
                                            <div className="flex items-center gap-sm">
                                                <span className="w-[60px] text-gray-400">
                                                    Line 3
                                                </span>
                                                <span className="text-gray-400">
                                                    개발 · 개발
                                                </span>
                                                <span className="text-gray-400">
                                                    — 11px, #B0B8C1
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            const root = ReactDOM.createRoot(document.getElementById("root"));
            root.render(<MockupApp />);
        </script>
    </body>
</html>
